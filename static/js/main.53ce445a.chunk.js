(this.webpackJsonpcocktails=this.webpackJsonpcocktails||[]).push([[0],{73:function(e,n,t){},74:function(e,n,t){},75:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){},88:function(e,n,t){},89:function(e,n,t){},90:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),a=t(11),i=t.n(a),s=(t(73),t(9)),o=(t(74),t(59)),l=t.n(o),u=t(50),j=(t(75),t(131)),d=t(20),f=t.n(d),b=t(26),h=function(e){var n=[];return Object.entries(e).forEach((function(t){var c=Object(s.a)(t,2),r=c[0],a=c[1];if(a&&r.includes("strIngredient")){var i=r.replace("strIngredient",""),o=e["strMeasure"+i];n.push([a,o])}})),{id:e.idDrink,name:e.strDrink,category:e.strCategory,instructions:e.strInstructions,image:e.strDrinkThumb,ingredients:n}},O=function(){var e=Object(b.a)(f.a.mark((function e(n,t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(n)).then((function(e){return e.json()})).then((function(e){return e.drinks[0]})).then(h);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=t(4),v=function(e){var n=e.drink,t=e.onClose,r=Object(c.useState)(Object(u.a)({},n)),a=Object(s.a)(r,2),i=a[0],o=a[1];Object(c.useEffect)((function(){!n||n.instructions?o(Object(u.a)({},n)):O(n.id,o)}),[n]);var l=i.image,d=i.name,f=i.instructions,b=i.ingredients;return Object(m.jsx)(j.a,{className:"modal",open:!!n,onClose:t,disableAutoFocus:!0,children:Object(m.jsxs)("div",{className:"modal__container",children:[Object(m.jsx)("div",{className:"modal__img-container",children:Object(m.jsx)("img",{src:l,alt:d,className:"modal__img"})}),Object(m.jsxs)("div",{className:"modal__description",children:[Object(m.jsx)("h2",{className:"modal__drink-name",children:d}),Object(m.jsx)("div",{className:"modal__ingredients-container",children:Object(m.jsx)("ul",{className:"modal__ingredients-list",children:null===b||void 0===b?void 0:b.map((function(e){var n=Object(s.a)(e,2),t=n[0],c=n[1];return Object(m.jsx)("li",{children:Object(m.jsxs)("p",{className:"modal__ingredients-item",children:[Object(m.jsx)("b",{children:t}),c&&":"," ",c]})},t)}))})}),Object(m.jsx)("div",{className:"modal__instruction-container",children:Object(m.jsx)("p",{className:"modal__instruction",children:f})})]})]})})},p=(t(80),function(){return Object(m.jsxs)("div",{className:"loader",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})}),x=(t(81),function(e,n){var t=Object(c.useState)((function(){return JSON.parse(localStorage.getItem(e))||n})),r=Object(s.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,i]}),_=t(133),k=t(128),g=t(129),N=t(56),w=t.n(N),y=t(58),C=t.n(y),S=t(57),I=t.n(S),D=(t(82),t(130)),E=t(134),F=t(135),L=t(125),J=["Alcoholic","Non alcoholic","Optional alcohol"],P=function(e){var n=e.value,t=e.onChange;return Object(m.jsx)(L.a,{className:"alcohol-filter__container",component:"fieldset",children:Object(m.jsx)(E.a,{className:"alcohol-filter__radio-group",row:!0,name:"gender1",value:n,onChange:t,children:J.map((function(e){return Object(m.jsx)(F.a,{value:e.replace(" ","_"),control:Object(m.jsx)(D.a,{color:"default"}),label:e},e)}))})})},A=function(e){var n=e.onSearch,t=x("isFilterByName",""),c=Object(s.a)(t,2),r=c[0],a=c[1],i=x("filterInput",""),o=Object(s.a)(i,2),l=o[0],u=o[1],j=x("filterRadio",""),d=Object(s.a)(j,2),f=d[0],b=d[1],h=function(){n({name:l}),b("")};return Object(m.jsxs)("div",{className:"filters__container",children:[Object(m.jsx)("div",{className:"filters__icon-button",children:Object(m.jsx)(_.a,{title:"Change filters",children:Object(m.jsx)(g.a,{color:"primary",edge:"start",onClick:function(){a((function(e){return!e}))},children:Object(m.jsx)(w.a,{className:"filters__swap-icon"})})})}),Object(m.jsx)("div",{className:"filters__input",children:r?Object(m.jsx)(k.a,{fullWidth:!0,value:l,onChange:function(e){u(e.target.value)},placeholder:"Search by name...",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),h())}}):Object(m.jsx)(P,{value:f,onChange:function(e){b(e.target.value),function(e){n({alcohol:e}),u("")}(e.target.value)}})}),(r?l:f)&&Object(m.jsx)("div",{className:"filters__icon-button",children:Object(m.jsx)(g.a,{color:"primary",edge:"end",onClick:function(){u(""),b(""),n({refresh:!0})},children:Object(m.jsx)(I.a,{className:"filters__search-icon"})})}),r&&Object(m.jsx)("div",{className:"filters__icon-button",children:Object(m.jsx)(g.a,{color:"primary",edge:"end",onClick:h,children:Object(m.jsx)(C.a,{className:"filters__search-icon"})})})]})},B=t(19),M=function(){var e=Object(b.a)(f.a.mark((function e(){var n,t,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},t=function(){var e=n.name,t=n.alcohol;return e?"search.php?s=".concat(e):t?"filter.php?a=".concat(t):"random.php"}(),e.next=4,fetch("https://www.thecocktaildb.com/api/json/v1/1/".concat(t)).then((function(e){return e.json()})).then((function(e){return(e.drinks||[]).map(h)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=function(){var e=Object(b.a)(f.a.mark((function e(){var n,t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:n=e.sent,t=Object(s.a)(n,1),c=t[0],r((function(e){return e.some((function(e){return e.id===c.id}))?(a(),Object(B.a)(e)):[].concat(Object(B.a)(e),[c])}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[t,function(){var e=Object(b.a)(f.a.mark((function e(){var n,t,c,i,s,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:{},t=n.refresh,c=n.name,i=n.alcohol,!t){e.next=5;break}return r([]),e.abrupt("return");case 5:if(!c&&!i){e.next=11;break}return e.next=8,M(n);case 8:return s=e.sent,r(s),e.abrupt("return");case 11:new Array(8).fill(null).forEach((function(){return a()}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()]},z=function(e,n){var t=new IntersectionObserver((function(e){e[0].isIntersecting&&n()}),{rootMargin:"3%",threshold:.9});e&&t.observe(e)},R=(t(88),t(89),function(e){var n=e.drink,t=e.onDrinkClick,c=n.id,r=n.image,a=n.name;return Object(m.jsxs)("div",{className:"drink__container",onClick:t,children:[Object(m.jsx)("img",{src:r,alt:a,className:"drink__img"}),Object(m.jsx)("div",{className:"drink__hover-container",children:Object(m.jsx)("div",{className:"drink__hover-name",children:a})})]},c)}),K=function(e){var n=e.cocktailsList,t=e.onDrinkClick;return Object(m.jsx)("div",{className:"cocktails-list",children:n.length?n.map((function(e){return Object(m.jsx)(R,{drink:e,onDrinkClick:function(){return t(e)}},e.id)})):Object(m.jsx)("p",{className:"cocktails-list__empty",children:"Nothing was found..."})})},W=function(){var e=T(),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)(!0),d=Object(s.a)(j,2),f=d[0],b=d[1],h=x("filterParam",{refresh:!0}),O=Object(s.a)(h,2),_=O[0],k=O[1];Object(c.useEffect)((function(){b(_.refresh),r(_)}),[_]);var g=Object(c.useRef)(null);return Object(c.useEffect)((function(){z(g.current,r)}),[]),Object(m.jsxs)("div",{className:"cocktails cocktails__container",children:[Object(m.jsx)(v,{drink:o,onClose:function(){return u(!1)}}),Object(m.jsx)("div",{className:"cocktails__logo-container",children:Object(m.jsx)(l.a,{className:"cocktails__logo",fontSize:"small"})}),Object(m.jsx)("div",{className:"cocktails__filters",children:Object(m.jsx)(A,{onSearch:k,setIsLazyLoading:b,isFiltered:!f})}),Object(m.jsx)(K,{cocktailsList:t,onDrinkClick:u}),Object(m.jsx)("div",{className:"cocktails__loader",ref:g,style:{display:f?"block":"none"},children:Object(m.jsx)(p,{})})]})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,136)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(W,{})}),document.getElementById("root")),q()}},[[90,1,2]]]);
//# sourceMappingURL=main.53ce445a.chunk.js.map